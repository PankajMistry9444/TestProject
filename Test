http://www.sqlteam.com/article/using-dynamic-sql-in-stored-procedures
